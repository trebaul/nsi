<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://example.com/1ere/seq2/flottants/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>III. Les flottants - Sciences informatiques</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/docco.min.css">
        <link href="../../../extra.css" rel="stylesheet">

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="../../..">Sciences informatiques</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Première <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">1. De la logique à la machine</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../seq1/logique/" class="dropdown-item">I. Logique</a>
</li>
            
<li>
    <a href="../../seq1/archi/" class="dropdown-item">II. Architecture</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">2. Représenter les nombres en machine</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../entiers_positifs/" class="dropdown-item">I. Les entiers positifs</a>
</li>
            
<li>
    <a href="../entiers_relatifs/" class="dropdown-item">II. Les entiers relatifs</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">III. Les flottants</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Terminale <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">1. Différentes manières de programmer</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../tle/seq1/Imp%C3%A9ratif_Fonctionnel/" class="dropdown-item">I. Paradigme impératif et fonctionnel</a>
</li>
            
<li>
    <a href="../../../tle/seq1/POO/" class="dropdown-item">II. Paradigme objet</a>
</li>
            
<li>
    <a href="../../../tle/seq1/Synth%C3%A8se_El%C3%A8ve/" class="dropdown-item">Synthèse</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">2. Autour de la récursivité</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../tle/seq2/piles/" class="dropdown-item">I. Les piles</a>
</li>
            
<li>
    <a href="../../../tle/seq2/r%C3%A9cursivit%C3%A9/" class="dropdown-item">II. La récursivité</a>
</li>
            
<li>
    <a href="../../../tle/seq2/diviser_regner/" class="dropdown-item">III. Diviser pour régner</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">3. Architecture matérielle</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../seq1/archi/" class="dropdown-item">I. Architecture des ordinateurs</a>
</li>
            
<li>
    <a href="../../../tle/seq3/Cours_SoC/" class="dropdown-item">II. Les systèmes sur puce</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">4. Structurer les données</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../tle/seq4/listes/" class="dropdown-item">I. Les listes</a>
</li>
            
<li>
    <a href="../../../tle/seq4/files/" class="dropdown-item">II. Les files</a>
</li>
            
<li>
    <a href="../../../tle/seq4/dico/" class="dropdown-item">III. Les dictionnaires</a>
</li>
            
<li>
    <a href="../../../tle/seq4/synthese/" class="dropdown-item">Synthèse</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Projets <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../projets/tle_poo_rec/presentation/" class="dropdown-item">Tle - POO & Récursivité</a>
</li>
                                    
<li>
    <a href="../../../projets/1ere_cyber/presentation/" class="dropdown-item">1ère - Cybersécurité</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../../ressources/" class="nav-link">Ressources</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../entiers_relatifs/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../../tle/seq1/Imp%C3%A9ratif_Fonctionnel/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#sequence-2" class="nav-link">Séquence 2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#iii-les-flottants" class="nav-link">III. Les flottants</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#cours" class="nav-link">Cours</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<style>
body {
text-align: justify}
</style>

<h1 id="sequence-2"><strong>Séquence 2</strong></h1>
<h1 id="iii-les-flottants">III. Les flottants</h1>
<hr />
<h2 id="cours">Cours</h2>
<p>En informatique, les nombres réels sont représentés par des <strong>flottants</strong>. Pourquoi ne pas utiliser le même nom, comme pour les entiers ? Nous allons voir que ces deux ensembles ne sont pas tout à fait équivalents... </p>
<h3 id="introduction">Introduction</h3>
<ul>
<li>Que doit, a priori, renvoyer le test <code>0.1 + 0.2 == 0.3</code> ?  <strong><em>Il devrait renvoyer <code>True</code>.</em></strong>  </li>
<li>Que renvoie-t-il en fait ? <strong><em>Il renvoie <code>False</code>.</em></strong>  </li>
<li>Quelle est en fait la valeur de <code>0.1 + 0.2</code> ? <strong><em>Sa valeur est <code>3.0000...00004</code></em></strong><br />
Comprenons ce qu'il s'est passé...</li>
</ul>
<h3 id="a-decomposition-et-conversion-de-la-base-2-a-la-base-10">A. Décomposition et conversion de la base 2 à la base 10</h3>
<p>Prenons le nombre <span class="arithmatex">\(3.375\)</span>. On sait écrire sa partie avant la virgule en binaire (qui vaut <span class="arithmatex">\(11_2\)</span>). Sa partie après la virgule, on peut la décomposer dans la base 10, comme on l'a fait pour la partie entière :</p>
<p><span class="arithmatex">\(0.375 = 3*10^{-1} + 7*10^{-2} + 5*10^{-3}\)</span></p>
<p>Les rangs des puissances de 10 sont ici négatifs (-1, -2 et -3).
De la même façon, un nombre à virgule écrit en binaire se décompose en fonction de 2 à la puissance son rang :</p>
<p><span class="arithmatex">\(10.011_2 = 1*2^1+1*2^{-2}+2^{-3} = 2+0.25+0.125 = 2.380\)</span></p>
<h3 id="b-conversion-de-la-base-10-a-la-base-2">B. Conversion de la base 10 à la base 2</h3>
<blockquote>
<p>Conversion de la <strong>partie décimale</strong> d'un nombre réel de la base 10 à la base 2
1. On multiplie cette partie par 2. 
2. La partie entière de ce produit donne le premier coefficient après la virgule.
2. On garde la partie décimale du produit. On réitère l'algorithme avec cette valeur, jusqu'à ce qu'elle devienne <strong>nulle</strong>.</p>
</blockquote>
<p><strong><em>Exemples :</em></strong> 
- Remplir le tableau suivant, pour obtenir la conversion de <span class="arithmatex">\(0.375\)</span>. <span class="arithmatex">\(3.375_{10} = 11.011_2\)</span></p>
<table>
<thead>
<tr>
<th align="center">Multiplication par 2 de la partie décimale</th>
<th align="center">Partie entière du produit</th>
<th align="center">Partie décimale du produit</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><span class="arithmatex">\(0.375*2=0.750\)</span></td>
<td align="center"><span class="arithmatex">\(0\)</span></td>
<td align="center"><span class="arithmatex">\(0.750\)</span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex">\(0.750*2=1.500\)</span></td>
<td align="center"><span class="arithmatex">\(1\)</span></td>
<td align="center"><span class="arithmatex">\(0.5\)</span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex">\(0.5*2=1\)</span></td>
<td align="center"><span class="arithmatex">\(1\)</span></td>
<td align="center"><span class="arithmatex">\(0\)</span></td>
</tr>
</tbody>
</table>
<ul>
<li>Trouver la représentation binaire de <span class="arithmatex">\(0.25_{10}\)</span>.</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Multiplication par 2 de la partie décimale</th>
<th align="center">Partie entière du produit</th>
<th align="center">Partie décimale du produit</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><span class="arithmatex">\(0.25*2=0.5\)</span></td>
<td align="center"><span class="arithmatex">\(0\)</span></td>
<td align="center"><span class="arithmatex">\(0.5\)</span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex">\(0.5*2=1\)</span></td>
<td align="center"><span class="arithmatex">\(1\)</span></td>
<td align="center"><span class="arithmatex">\(0\)</span></td>
</tr>
</tbody>
</table>
<ul>
<li>Que se passe-t-il lorsque l'on veut convertir la fraction <span class="arithmatex">\(1/3\)</span>, qui a une écriture infinie en décimal ? <strong><em>L'algorithme ne se termine pas.</em></strong></li>
</ul>
<table>
<thead>
<tr>
<th align="center">Multiplication par 2 de la partie décimale</th>
<th align="center">Partie entière du produit</th>
<th align="center">Partie décimale du produit</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><span class="arithmatex">\(1/3*2=2/3\)</span></td>
<td align="center"><span class="arithmatex">\(0\)</span></td>
<td align="center"><span class="arithmatex">\(2/3\)</span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex">\(2/3*2=4/3\)</span></td>
<td align="center"><span class="arithmatex">\(1\)</span></td>
<td align="center"><span class="arithmatex">\(1/3\)</span></td>
</tr>
</tbody>
</table>
<ul>
<li>Ecrire les 5 premières étapes de la conversion de <span class="arithmatex">\(0.1_{10}\)</span>.</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Multiplication par 2 de la partie décimale</th>
<th align="center">Partie entière du produit</th>
<th align="center">Partie décimale du produit</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><span class="arithmatex">\(0.1*2=0.2\)</span></td>
<td align="center"><span class="arithmatex">\(0\)</span></td>
<td align="center"><span class="arithmatex">\(0.2\)</span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex">\(0.2*2=0.4\)</span></td>
<td align="center"><span class="arithmatex">\(0\)</span></td>
<td align="center"><span class="arithmatex">\(0.4\)</span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex">\(0.4*2=0.8\)</span></td>
<td align="center"><span class="arithmatex">\(0\)</span></td>
<td align="center"><span class="arithmatex">\(0.8\)</span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex">\(0.8*2=1.6\)</span></td>
<td align="center"><span class="arithmatex">\(1\)</span></td>
<td align="center"><span class="arithmatex">\(0.6\)</span></td>
</tr>
<tr>
<td align="center"><span class="arithmatex">\(0.6*2=1.2\)</span></td>
<td align="center"><span class="arithmatex">\(1\)</span></td>
<td align="center"><span class="arithmatex">\(0.2\)</span></td>
</tr>
</tbody>
</table>
<p>Que se passe-t-il ? Que peut-on en déduire sur la représentation de <span class="arithmatex">\(0.1_{10}\)</span> dans la machine ? Pourquoi le test <code>0.1 + 0.2 == 0.3</code> renvoie-t-il <code>False</code> ?<br />
<strong><em>L'algorithme ne s'arrête pas. 0.1 ne peut pas être représenté de manière exacte, donc 0.1+0.2 ne fait pas exactement 0.3 avec la représentation de la machine.</em></strong></p>
<h3 id="d-la-norme-ieee-754-son-detail-nest-pas-a-retenir">D. La norme IEEE 754 <em>(son détail n'est pas à retenir)</em></h3>
<p>Le terme <code>flottant</code> vient du fait que l'on représente ces nombres avec une <strong>virgule flottante</strong>. La norme IEEE 754 est la plus employée pour représenter ces nombres. On utilise soit 32 <em>(version utilisée ici pour l'exemple)</em>, soit 64 bits pour stocker ces nombres. Le nombre est mis sous la forme : <span class="arithmatex">\(signe*mantisse*base^{exposant}\)</span>, et on stocke :
- son <strong>signe</strong> <em>(1 bit)</em>,
- un <strong>exposant</strong> <em>(8 bits)</em>,
- une <strong>mantisse</strong> <em>(23 bits)</em>.</p>
<p><strong><em>Exemple :</em></strong> <span class="arithmatex">\(4,3125_{10}=100,0101_2\)</span>, qui doit être transformé pour correspondre à cette norme, en <span class="arithmatex">\(1,000101.2^2\)</span>.<br />
Il est stocké sous la forme : <span class="arithmatex">\(signe = 0\)</span> (nombre positif), <span class="arithmatex">\(exposant = 10000001\)</span> (l'exposant est décalé), <span class="arithmatex">\(mantisse = 0001010000000000000000\)</span></p>
<h3 id="conclusion">Conclusion</h3>
<p>En programmation, est-il pertinent de tester l'égalité entre deux flottants ? Comment peut-on faire alors ?<br />
<strong><em>Ce n'est pas pertinent, car on peut avoir des erreurs dues à l'approximation de la représentation, contrainte par un nombre de bits donnés. On peut, à la place, tester si ces nombres sont suffisamment proches.</em></strong></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../mathjax.js" defer></script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
